#### 监听返回事件
```
问题：
通过监听popstate事件，来判断是否点击返回按钮，比如从A页面跳转到B页面(监听popstate），然后再跳转到C页面，点击返回的按钮，测试成功，包括安卓版，但是问题来了，IOS版的微信，是会立即触发popstate事件，导致直接从C页面跳转到A页面，其他的支付宝（安卓、IOS）、微信（安卓）都是可以，就是微信IOS版不行。
经过查找相关资料，选择了一个方法，不过有点弊端，但是并不影响操作，通过popstate、pageshow两个事件进行判断验证。
解决办法：
1、在页面刷新时延迟1秒，在这1秒内对监听到的 popstate 事件不进行怎么处理，1秒后一旦监听到 popstate 事件则进行跳转操作；如何即可过滤掉ISO系统下跳转页面时立即触发监听popstate事件；
```
> 方法一：
``` js
// 浏览器回退事件监听  /
var listenerBackHandler = {  
    param: {  
        isRun: false, //防止微信返回立即执行popstate事件  
    },  
    listenerBack: function () {  
        var state = {  
            title: "title",  
            url: "#"  
        };  
        window.history.pushState(state, "title", "#");  
        window.addEventListener("popstate", function (e) {  
            if (listenerBackHandler.param.isRun) {  
                    window.location.href = "Home/Index"; //返回到主页  
                }  
            }  
        }, false);  
    },  
    //初始化返回事件  
    initBack: function () {  
        window.addEventListener('pageshow', function () {  
            listenerBackHandler.param.isRun = false;  
            setTimeout(function () { listenerBackHandler.param.isRun = true; }, 1000); //延迟1秒 防止微信返回立即执行popstate事件  
            listenerBackHandler.listenerBack();  
        });  
    }  
}  
```
> 方法二：
```js
	var replaceUrl;    
	function pushHistory(replaceUrl) {    
        var state = {    
            title: "title",    
            url: replaceUrl    
        };    
        window.history.replaceState(state, "title",replaceUrl);    
    }    
     //当点击B.jsp跳转时    
    $("#btn").click(){    
        pushHistory("../"+url);//你要跳转的URL    
        location.reload();    
    }  
```
> 补充：
- window.location.reload() 
```
如果该方法没有规定参数，或者参数是 false，它就会用 HTTP 头 If-Modified-Since 来检测服务器上的文档是否已改变。如果文档已改变，reload() 会再次下载该文档。如果文档未改变，则该方法将从缓存中装载文档。这与用户单击浏览器的刷新按钮的效果是完全一样的。

如果把该方法的参数设置为 true，那么无论文档的最后修改日期是什么，它都会绕过缓存，从服务器上重新下载该文档。这与用户在单击浏览器的刷新按钮时按住 Shift 健的效果是完全一样。
```
- window.history.replaceState()
- popstate事件
- pageshow事件

#### 可视化
- 我看到别人说，如果只是为了业务，大可用echart highchart啥的，但如果是倾向创造性，高定制的还是得D3



###  git push -f 强制push



#### 
- https://juejin.im/post/5b29cb9ff265da597236c1e3?utm_source=gold_browser_extension

  14k竟然认为vue-cli是架构？竟然没看过vue源码，不了解服务端渲染，不知道响应式原理，写水的一匹啊
- 


#### react组件渲染问题
```jsx
// 有组件如下：
class Btn extends React.Component{
    componentDidMount(){
		const { obj } = this.props;
		obj.fun();
    }

    render(){
        return (
        	<div>
        		这是一个组件
        	</div>
        );
    }
}

// 在App组件中添加
class App extends React.Component{
    render(){
        return (
        	<div>
        		{/*Btn组件永不会被渲染  内部生命周期也不会被执行*/}
        		{ 0 && <Btn /> }
        		{/*
        		组件Btn的生命周期 componentDidMount 中需要调用obj.fun方法
        		但是呢？obj.fun是另一状态 并不是立刻就存在的
        		如果直接写 <Btn fun={obj.fun}/> 
        		那么在渲染组件Btn时 在componentDidMount生命周期中fun函数是不存					在的
        		那么这个时候则需要为Btn的渲染添加前提条件
        		*/}
        		{obj.fun && <Btn fun={obj.fun}/>}
        	</div>
          
        );
    }
}

```



#### 移动端布局---单位选择
- 大漠介绍过一套vw方案，现在我就在用那套开发移动端，也挺好用的
- [如何利用vw+rem进行移动端布局](https://juejin.im/post/5b29f476e51d455892718380?utm_source=gold_browser_extension)
- 淘宝有更完善的 vw 移动端解决方案













