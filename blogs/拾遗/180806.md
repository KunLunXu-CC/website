#### 一 遗漏
- 5的混合应用


#### 二 react响应式: 背景图的尝试
##### 1.1 修改 html 的字体大小:
```js
// 根据body大小设置 html font-size字体大小 
// relyOnW: 是否根据高度计算值  true || false
  setHtmlFontSize = (relyOnW) => {
    // 缩放比例：自己瞎加的
    const fontAdjustment = 1;
    // 假设设计稿子的宽度按照1920来设计，设置全局rem基准
    let scale;
    if(relyOnW){
    	// 根据高度设置 html 字体大小
      scale = document.body.clientWidth / 1920;
    } else {
    	// 根据宽度设置 html 字体大小
      scale = document.body.clientHeight / 1008;
    }
    const fontSize = 100 * scale * fontAdjustment + 'px';
    document.getElementsByTagName('html')[0].setAttribute('style', `font-size: ${fontSize}`);
  }
```
##### 1.2 背景图大小设置
```js
  // 设置背景图大小:
  setLoginBackgroundSize = () => {
    const dom = document.getElementById('login');
    const bodyW = document.body.clientWidth;
    const bodyH = document.body.clientHeight;
    // 背景图:1920 * 1008
    // 计算背景图高度,当高度小于当前 body 的高度的时候,则背景图高度设置为100%
    const scale = bodyW / 1920;
    const bgH = 1008 * scale;
    if(bgH <  bodyH){
      // 计算 html 字体大小; 根据高度缩放
      this.setHtmlFontSize(false);
      dom.setAttribute('style', 'background-size: auto 100%');
    } else {
      // 计算 html 字体大小; 根据宽度缩放
      this.setHtmlFontSize(true);
      dom.setAttribute('style', 'background-size: 100% auto');
    }
  }
```
##### 1.3 在react中的使用
```jsx
componentDidMount(){
	this.setLoginBackgroundSize();
	window.onresize = this.setLoginBackgroundSize;
}
```
#### 三 cookie的使用:
##### 1.1 封装方法
```js
// 获取cookie
export function getCookie(name) {
  let arr;
  const reg = new RegExp(`(^| )${name}=([^;]*)(;|$)`);
  arr = document.cookie.match(reg);
  if (arr) {
    return unescape(arr[2]);
  } else {
    return null;
  }
}
// 设置cookie
export function setCookie(key, val, path) {
  document.cookie = `${key}=${val}${path ? `;path=${path}` : ''}`;
}
//删除cookie
export function delCookie(key) { //删除cookie方法
  let date = new Date(); //获取当前时间
  date.setTime(date.getTime() - 10000); //将date设置为过去的时间
  document.cookie = `${key}=v;expires=${date.toGMTString()}`;  //设置cookie
}
```
##### 1.2 path属性说明 
- 设置cookie时可以设置path属性, 表示允许访问获取该 cookie 的路由
- 当path设置为 / 则可以在任何路由下进行访问;

#### 四 原生浏览器滚动条样式修改:
##### 4.1 谷歌
```css
// 滚动样式修改:: 谷歌 opera
.ant-layout-sider::-webkit-scrollbar {
  /*滚动条整体样式*/
  width: 6px;
  /*高宽分别对应横竖滚动条的尺寸*/
  background: #ebeef5;
  -webkit-box-shadow: inset 1px 0 1px rgba(0, 0, 0, 0.2);
}

.ant-layout-sider::-webkit-scrollbar-thumb {
  /*滚动条里面小方块*/
  border-radius: 3px;
  background: #409eff;
  height: 120px;
}

.ant-layout-sider::-webkit-scrollbar-track {
  /*滚动条里面轨道*/
  -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);
  border-radius: 2px;
  background: rgba(0, 0, 0, 0.1);
}


.ant-layout-sider::-webkit-scrollbar {
  /*滚动条整体样式*/
  width: 6px;
  /*高宽分别对应横竖滚动条的尺寸*/
  background: #ebeef5;
  -webkit-box-shadow: inset 1px 0 1px rgba(0, 0, 0, 0.2);
}

.ant-layout-sider::-webkit-scrollbar-thumb {
  /*滚动条里面小方块*/
  border-radius: 3px;
  background: #409eff;
  height: 120px;
}

.ant-layout-sider::-webkit-scrollbar-track {
  /*滚动条里面轨道*/
  -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);
  border-radius: 2px;
  background: rgba(0, 0, 0, 0.1);
}
```
##### 4.2 IE
```css
/*这是ie浏览器隐藏滚动条的代码*/
.ant-layout-sider{
  -ms-scroll-chaining: chained;
  -ms-overflow-style: none;
  -ms-content-zooming: zoom;
  -ms-scroll-rails: none;
  -ms-content-zoom-limit-min: 100%;
  -ms-content-zoom-limit-max: 500%;
  -ms-scroll-snap-type: proximity;
  -ms-scroll-snap-points-x: snapList(100%, 200%, 300%, 400%, 500%);
  -ms-overflow-style: none;
  overflow: auto;
}
```

#### 宽高最好只在最外层进行限制 内部最好使用响应式单位

#### 五 滚动:

```jsx

<div 隐藏>
<div 不隐藏显示导航, 当前区块大于父级区块 将导航隐藏>

</div>
</div>

```
#### 六、库 Moment 配合 antd 的时间控件使用时出现 BUG
##### 6.1 问题描述：
- 项目中有个新增数据表单，不选择日期情况下进行报错后在
##### 6.2 BUG 截图
- 这里少一张图片
##### 6.3 原因：
- 首先需要知道关于mount的一个小知识点：
```js
// 当 mount 传入 null 时返回的 Mount 对象中_d属性值为：Invalid Date {}
moment( null )
// 当 mount 传入 undefined 是返回 Mount 对象中_d属性值为当前的时间
moment( undefined )
```
- 演示代码代码如下：
```jsx
// data 是后端查询获取到的数据
<DatePicker 
	format="YYYY-MM-DD"
  value={moment(data)}/>
```
- 所以问题其实已经很明显了，当我们新增数据时假如没有设置 日期， 那么在编辑的时候我们获取到的当前数据中 data 值为nul， 此时moment(data) 中\_i值为：Invalid Date {} 就出现了BUG
- 解决办法其实就是多一层判断即可, 要知道当 DatePicker 组件 value为undefined时将会显示 placeholder属性值的；
```jsx
// 最终代码
<DatePicker 
	format="YYYY-MM-DD"
  value={data && moment(data)}/>
```

#### 项目：KOA 






​			